(window.webpackJsonp=window.webpackJsonp||[]).push([["wc.gs",5],{487:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(193),r=n(16),l=n(474),u=n(504),s=n(502),d=n(465),i=n(464),m=n(472),p=n(471),b=n(503),f=n(468),j=n(469),O=n(475),g=n(473),k=n(470),h=n(488),w=n.n(h);const E=["rgba(0, 128, 0, 0.25)"];function P(e){return{currentPotNum:0,selectedTeam:null,pickedGroup:null,hungPot:e[0]}}t.default=Object(a.memo)(({pots:e})=>{const[t,n]=Object(d.a)("draw-"),h=Object(a.useMemo)(()=>e.map(e=>o(e)),[e,t]),T=Object(a.useMemo)(()=>e[0].map(()=>[]),[e,t]),G=Object(a.useMemo)(()=>P(h),[h]),[{currentPotNum:N,selectedTeam:y,pickedGroup:x,hungPot:C},v]=Object(a.useState)(G),[,M]=Object(r.a)(),$=Object(s.a)(w.a),[I,J]=Object(l.a)(),[S,A]=Object(u.a)(3e3),W=Object(a.useCallback)(async e=>{return(await $({pots:h,groups:T,selectedTeam:e})).pickedGroup},[h,T,$]),q=Object(a.useCallback)(async e=>{const t=h[N];v({currentPotNum:N,hungPot:t.slice(),selectedTeam:t.splice(e,1)[0],pickedGroup:null})},[h,N]);Object(a.useEffect)(()=>{y&&(async()=>{if(!y)throw new Error("no selected team");let e;A.set(y);try{e=await W(y)}catch(e){return console.error(e),void M({error:"Could not determine the group"})}T[e].push(y);const t=h[N].length>0?N:N+1;J.add(y),A.reset(),v({selectedTeam:null,pickedGroup:e,hungPot:h[t],currentPotNum:t})})()},[y]),Object(a.useEffect)(()=>{const e=h[N].findIndex(e=>e.host);q(e)},[t]);const z=Object(a.useCallback)(()=>{n(),v(P(e))},[e]),B=N>=h.length;return c.a.createElement(k.a,null,c.a.createElement(f.a,null,c.a.createElement(p.a,{selectedTeams:y&&[y],initialPots:e,pots:h,currentPotNum:N}),c.a.createElement(b.a,{maxTeams:h.length,currentPotNum:N,groups:T,possibleGroups:null,airborneTeams:I,groupColors:E})),c.a.createElement(j.a,null,c.a.createElement(O.a,{forceNoSelect:!!y,display:!B,selectedTeam:y,pot:C,onPick:q}),c.a.createElement(g.a,{long:!0,calculating:S,completed:B,selectedTeam:y,pickedGroup:x,possibleGroups:null,numGroups:T.length,reset:z})),I.map(e=>{const t=T.findIndex(t=>t.includes(e)),n=Object(i.a)(t),a=T[t].indexOf(e);return c.a.createElement(m.a,{key:e.id,from:`[data-cellid='${e.id}']`,to:`[data-cellid='${n}${a}']`,duration:350,data:e,onAnimationEnd:J.remove})}))})},488:function(e,t,n){e.exports=function(){return new Worker(n.p+"ba11b611e3554bf84fe3.worker.js")}}}]);